{{- define "title" -}}
    {{ $.Scratch.Set "metaTitle" "Blog" }}
    Blog
{{- end -}}

{{- define "headTpl" -}}
    {{$.Scratch.Set "nav_active" "blog"}}
    {{$.Scratch.Set "data_i18_link" "/blog-cn" }}
    {{- partial "head/preload-css" (dict "href" "/css/list.css") -}}
    {{- partial "head/preload-css" (dict "href" "/css/blog.css") -}}
{{- end -}}

{{- define "main" -}}
    <div class="blog">
      <div class="blog__container">
        {{ $posts := where (where .Site.Pages "Section" "blog") ".Params.title" "!=" nil }}
        <div class="blog__hugeTitle">
          <h1>PingCAP Blog</h1>
        </div>

        <div class="tutorial-platform">
          <div class="guide">See TiDB Deployment Tutorials for: </div>
            <span><a href="/docs/op-guide/kubernetes/#google"><img src="/images/svgs/google-cloud.svg" /></a> </span>  <span class="divider"> | </span>
            <span><a href="/docs/op-guide/docker-deployment/"><img src="/images/svgs/docker.svg" /> </a> </span> <span class="divider"> | </span> 
            <span><a href="/docs/op-guide/kubernetes/#local"><img src="/images/svgs/kubernetes.svg" /></a> </span> <span class="divider"> | </span>
            <span><a href="/docs/op-guide/kubernetes/#aws"><img src="/images/aws.png" /></a></span> <span class="divider"> | </span> 
            <span><a href="/docs/op-guide/ansible-deployment"><img src="/images/svgs/ansible.svg" class="special-img" /></a> </span>
        </div>
        {{- partial "navs/blog-category-nav.html" (dict "type" "blog-list" "posts" $posts "global" .) -}}
        {{- partial "archives/list.html" (dict "posts" $posts.ByDate.Reverse "hasMetaData" "true" "hasBrief" "true" "global" . "listType" "blog") -}}
        <div id="showMore">
            <p>- Show More Articles -</p>
        </div>
        <!-- {{- partial "archives/subscription.html" . -}} -->
      </div>
    </div>
{{- end -}}

{{- define "footJS" -}}
    <script type="text/javascript" src="/js/vendor/lazyload.min.js"></script>
    <script type="text/javascript" src="/js/doc.js"></script>
    <script type="text/javascript" src="/js/vendor/clipboard.min.js"></script>
{{- end -}}
